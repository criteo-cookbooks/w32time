---
language: ruby
cache: bundler
rvm:
  - 2.4.0
before_deploy: 'gem update openssl'
deploy:
  edge:
  provider: chef-supermarket
  user_id: criteo
  cookbook_category: Utilities
  client_key: ".travis/client.pem"
  on:
    tags: true
    all_branches: true
env:
  global:
  - secure: IbzCY6kKNKYY0yRreM+tF89hjmnUeh3OiNKTG8POl72A/swXR3SKnPSRr1Jvn7jDbhhoHK5YJ8QbSJkr0k7jemRCidaIIct3K9HpGmXhfqErJczN26Jzu5MJ8A6+TqQbEW4PFRNB3+la+CijKKnhwdQLpDIZsiHU5ShClX/PNxoIgks+jkBShWAzqXWY2Iua9Zgh554CKl4fezwowZzgkvajJ8TZ820P30wEsksj0vcaCenT+7AZxWo4LSlIOQQpRdPSdX2voNrn094zswNkbD+kLAY4ZD2WVrY/C2IQibtfJ+5dFzhK+DW/4qlyQOE9lXvGsNW5sWCgNM+y43GuplNHvXJL1Bnk3tQs3bid8IJof5oXZLvCAbmTEABrZUR3dFFu4l47P8CYd30XR0hXBBfpFqLwbd6ZraIi2XQjPvyPukb36NcwqYpGCX0CN94JliKLe4CabEVk8+JkWH0qbkZh2Cq2HtgJ+6njwxoih7PiTRlNR9vomTVvtfWtR+keoIKUFUzDbenXHDZWgpWzIukAy/SpBFq76lpcPgBONCz9H3Sq3fREyCgDA0Z3rLR6RQdVu8xKRd910pcfkGrJQKSMOsBqto9k5TeUOhUvt0kZifVIE6kWkMbUZccN29xc61GdZtcNq9bPXtdc9ACpeBrMwYjkqpUMndIK0qY4kMU=
  - secure: em82GpFM0encbqrvV+uwp2Vxn6Esun+kVhfuAwFNHgR5lOpSAAUqZpo8saUC0e+i4DsbMngI4ZUIo4FlA0gxMP3QRcWPdL8usroTJ8nuStglF0e5DZbNNSF9S5KuFigBECpSF1/rK5d9aXw3TEKApxzLZUhL7mHkT31QLQM5OF4m0jcJDo5FIF9VVSrNKcC9E3nQ4qsJwWciQebOGM5HX+uT4lya9MXzVbzRbSFX6wRfV6nvfZ6T+pBuLK4iO2962zliCuHrzZ1q9qbL1ulA/WEtuCAt5U0ANL8Lor3HNwy5mBzHb10M2fwrY6K4xwXaTlJ138znQTsxySmP7Lqsd1+BDQQh9xrApBZlF0wBfLqSu7WMChWdu+GjhldNk7xrjgBHd2UMXVJAxE7/OjT6AlNJLLGqmnSp96M61L68QcGh22x9nWnlPtK//WqufSyxKYNMwGrf9zmhzwjx8NEVABGNQyiqZvElxUdLnVNkLmoSNo827LuvbqlDoUaUfjNGWMuFscI3YtZZfiBOYn0iLrZkKz6wdVNope7dSxxbzFSegC3QwsS56vRtAcmDcWsU0Bd0rYkYkvPKpaq7p0RrjwKoAljZ5kQImxN5vvY7AK0/5GLT3KfInc64EU9lojcwlaUpzpVMCo+TlX2jrvrcfc23G/8wPXH0UoI88P5ZpKA=
  - secure: Lz6463V0OCTfUORWWdPCvQ/SYLEIk1Ow0jVE8Ftg4aF9INNAloW2wDxCe5Tn+ExxegPgP7qlcWQa/jbc8X6KwZ00egOOmt+NiURyJh4epqtNAiVhVZ0jv6G6u04MEsBrKBC0RuLR0HItKhyp/Rz/6UgaasTVmheLvESU3lK/jQa1O0cMdVKNz4c0hweGoouZojKkg9PagRiVAoeu+7CS2HCC5gJbciSNVTorz3SF3l856qkuXFazkrgpEkStU+OZP+2aQPMCcsaPkqMB/bq9jdxTekTOJZ8YF0SPfRvkCWnGB7Ex1tJT8by2AGz7GO0VN5eElJbmEwQ72c/aqbm/DsTHc4X7A5tORY7yzBPKWNzRsli2gC+7RlchiIjeTYeRskZ0mDsukVGpNFkbjIXgAo/6mSyuVFzhlox6xLKwnHcRt8eY1KlrXUySysNhAxYrIRRYNNFpUSprF0/sjzLwngWwOprP7/OYVMsG6KKH6yzEUO+1odtfOSHJxZdiWWfE+eRp+tciR8OSA+4X7nVFuYloq5K2/GUhiGuhQkHMg7IooKsHlraOUXUjcU1WDzOUQ/ShAI9tvbvtMyNRNX2glcNJho9V628ngDlEA6yQt/oS0NZuyfiaHKU/h0ESG4xBGMULQD1N9NLXX/5BeWKWXLPY28JrL38ymItrA5lmung=
  - secure: sqwCP9pfDTHVxEkvLm8X1ggrMYMSykTTKwGBuKI1dWhgJa81dIdQQcEmiuCvOCMKK3Unb+LXFLS8J1I/ywfRluGX6xG21mBQaqindWJhZ2kyfy2rA1lQgrfy7ehtOD+lfu6GFuc2m7uc1KqK5g045qsnpQONUcpWePwO8nVbZo7iT58E6bomDSfYn1qiARmDEm7fHagHKejt9H68d/mr+1UHLPWZFjKiPHxJ/OYam4WLIi5fHP5GxOKquZm2/XkpWTHPuUVa90JMJC+eQ0SqtSkbtXK7/2UeyieHHsTrC1hPVKrZ74PmPwU0tcoM5qxHnzUb2/TknDrT7LqEmsu7OEtOh/JyOBVkg3J3jE1iLzkb6UoLW7/cJqYqnN+5T5w4hyUqeL1BJBfxssx+HilRJERWXf4HK940hPpmlsAVplSdcqlDsgq/g2OeLyY6JUD0nkWmdk15ELs4p/Aji3cnrYADnEop1jsEgRXnhJfdDBdBfghfW4xP1uMrSQ8lWzx+G+tzfRd3TN0FZK7kt4NkJ6kLPYDw3o/sOQTe3U9jqbKc3GMXTbe8TE0GMuk7CUAp3EyLnhgMg6erfkQjiuUQkv8SdoFhyFII702Ke9rYA18VD4iFpxcHSYU2Tv3DOn2LkDAp7p/cOVnd4Yea/I/u141JBMC/OqhfDoeR62bkdAg=
before_deploy:
- openssl aes-256-cbc -K $encrypted_0d23e8f633f0_key -iv $encrypted_0d23e8f633f0_iv
  -in .travis/client.pem.enc -out .travis/client.pem -d
